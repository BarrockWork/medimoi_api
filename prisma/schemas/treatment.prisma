datasource db {
  provider       = "mysql"
  url            = env("DATABASE_URL")
}

model Treatment {
    id                              Int                     @default(autoincrement()) @id
    name                            String                  @db.VarChar(255)
    treatment_periodicity_id        Int
    treatment_periodicity           Treatment_periodicity   @relation(fields: [treatment_periodicity_id], references: [id])
    user_id                         Int
    user                            User                    @relation(fields: [user_id], references: [id])
    createdAt                       DateTime                @default(now())
    updatedAt                       DateTime?               @updatedAt
    startedAt                       DateTime
    finishedAt                      DateTime?
    isActive                        Boolean                 @default(true)
    drugs                           Drug[] @relation(name: "drugs")
}

model Treatment_periodicity {
    id Int @id
    Treatments Treatment[]
}

model User {
    id Int @id
    treatments Treatment[]
}

model Drug{
    id Int @id
    treatment_id Int 
    treatment Treatment @relation(fields: [treatment_id], references: [id], name: "drugs")
}